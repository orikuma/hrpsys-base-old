#!@CMAKE_INSTALL_PREFIX@/bin/hrpsyspy

import sys
import time
import os
import thread

execfile("@CMAKE_INSTALL_PREFIX@/share/hrpsys/jython/waitInput.py")

sys.path.append(os.getcwd())

def runSimulator(prj):
    cmd = "sdlsim "+prj
    os.system(cmd)

argc = len(sys.argv)

if argc < 2:
    print "Usage: hrpsys-simulator project.xml [script.py]"
    sys.exit(1)

project = sys.argv[1]
args = (project,)
thread.start_new_thread(runSimulator, args)
time.sleep(1)

if argc > 2:
   script  = sys.argv[2]
   execfile(script)



